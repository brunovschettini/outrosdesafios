<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:f="http://xmlns.jcp.org/jsf/core"  
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <ui:composition template="template/templateAdmin.xhtml">
        <ui:define name="title">
            Produto
        </ui:define>
        <ui:define name="meta_head">
            <h:outputScript name="block_submit.js" library="js" />
        </ui:define>
        <ui:define name="content">
            <h:form id="form_product"  onsubmit="return false;">
                <f:passThroughAttribute name="autocomplete" value="off" />
                <strong>Manutenção de Produto</strong>
                <hr />
                <ul class="nav nav-pills">
                    <li role="presentation" class="dropdown active">
                        <a class="dropdown-toggle " data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" >
                            Opções <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="#" data-toggle="modal" data-target="#dlg_store">
                                    Gravar
                                </a>             
                            </li>
                            <li>
                                <a href="#" data-toggle="modal" data-target="#dlg_delete">
                                    Excluir
                                </a>
                            </li>
                            <li>
                                <a href="#" data-toggle="modal" data-target="#dlg_upload_file">
                                    Upload
                                </a>             
                            </li>
                            <li>
                                <h:commandLink value="Limpar"  action="#{callPageMB.page('product')}" immediate="true"/>
                            </li>                            

                        </ul>
                    </li>
                    <li role="presentation" class="dropdown" style="float: right">
                        <h:commandLink value="Lista"  action="#{callPageMB.page('products')}" immediate="true" />
                    </li>
                </ul>                
                <hr /> 
                <br />
                <div class="row">
                    <div class="col-lg-10 col-md-12">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-lg-2 col-sm-2 col-md-1 col-xs-6">
                                            <h:outputLabel value="Código" />
                                            <h:column>
                                                <h:panelGroup>
                                                    <c:if test="#{productsMB.products.id eq null}">
                                                        <h:inputText value="#{productsMB.code}" autocomplete="false" styleClass="form-control" converter="#{thisNumber}">
                                                            <f:ajax event="change" render=":form_product:" execute="@form" listener="#{productsMB.findByCode}" onevent="statusbaroverlay"/>
                                                        </h:inputText>   
                                                    </c:if>
                                                    <c:if test="#{productsMB.products.id ne null}">
                                                        <h:inputText value="#{productsMB.products.id}" autocomplete="false" styleClass="form-control" readonly="true"/>
                                                    </c:if>
                                                </h:panelGroup>
                                            </h:column>                  
                                        </div>                                
                                        <div class="col-lg-7 col-sm-6 col-md-8 col-xs-12">
                                            <h:outputLabel value="Nome" />
                                            <h:inputText  value="#{productsMB.products.name}"  converter="#{toUpperCase}" autocomplete="false" styleClass="form-control" maxlength="150">
                                                <f:ajax event="change"  render="@this i_resume_name" execute="@this" listener="#{productsMB.products.generateResumeName}"/>
                                                <f:passThroughAttribute name="onpaste" value="return false" />
                                                <f:passThroughAttribute name="ondrop" value="return false" />
                                            </h:inputText>                
                                        </div>                                
                                        <div class="col-lg-3 col-sm-4 col-md-3 col-xs-12">
                                            <h:outputLabel value="Resumo" />
                                            <h:panelGroup id="i_resume_name">
                                                <h:inputText  value="#{productsMB.products.resumeName}" converter="#{toUpperCase}" autocomplete="false" styleClass="form-control"  maxlength="50">
                                                    <f:ajax event="change" render="@this" execute="@this" />
                                                </h:inputText>                                                                
                                            </h:panelGroup>
                                        </div>
                                    </div>
                                    <br />
                                    <div class="row">
                                        <div class="col-lg-2 col-sm-2 col-md-2 col-xs-6">
                                            <h:outputLabel value="Unidade" />
                                            <h:selectOneMenu value="#{productsMB.idUnit}" styleClass="form-control">
                                                <f:ajax event="change"  render="@this" execute="@form"/>
                                                <f:selectItems value="#{productsMB.listUnits}" />
                                            </h:selectOneMenu>
                                        </div>
                                        <div class="col-lg-3 col-sm-3 col-md-3 col-xs-6">
                                            <h:outputLabel value="Marca" />
                                            <h:inputText  value="#{productsMB.products.brand}"  converter="#{toUpperCase}" autocomplete="false" styleClass="form-control" maxlength="150">
                                                <f:ajax event="change" render="@this i_resume_name" execute="@this" listener="#{productsMB.products.generateResumeName}"/>
                                            </h:inputText>                
                                        </div>
                                        <div class="col-lg-3 col-sm-3 col-md-3 col-xs-12">
                                            <h:outputLabel value="Modelo" />
                                            <h:inputText  value="#{productsMB.products.model}"  converter="#{toUpperCase}" autocomplete="false" styleClass="form-control" maxlength="150">
                                                <f:ajax event="change" render="@this i_resume_name" execute="@this" listener="#{productsMB.products.generateResumeName}"/>
                                            </h:inputText>                
                                        </div>
                                        <div class="col-lg-4 col-sm-4 col-md-4 col-xs-12">
                                            <h:outputLabel value="Barras" />
                                            <h:column>
                                                <h:panelGroup>
                                                    <c:if test="#{productsMB.products.id eq null}">
                                                        <h:inputText value="#{productsMB.products.barcode}" autocomplete="false" styleClass="form-control"  maxlength="500" onkeypress="return event.keyCode !== 13;" onkeydown="loadBarCodeProduct(event)">
                                                            <f:ajax event="change" render="@this" execute="@form" />
                                                            <f:passThroughAttribute name="onpaste" value="return false" />
                                                            <f:passThroughAttribute name="ondrop" value="return false" />
                                                        </h:inputText>
                                                    </c:if>
                                                    <c:if test="#{productsMB.products.id ne null}">
                                                        <h:inputText value="#{productsMB.products.barcode}" autocomplete="false" styleClass="form-control" maxlength="500" onkeypress="return event.keyCode !== 13;"/>
                                                        <f:passThroughAttribute name="onpaste" value="return false" />
                                                        <f:passThroughAttribute name="ondrop" value="return false" />
                                                    </c:if>
                                                </h:panelGroup>
                                            </h:column>                  
                                        </div>
                                    </div>
                                    <br />
                                    <div class="row">
                                        <div class="col-lg-4 col-sm-4 col-md-4 col-xs-12">
                                            <h:outputLabel value="Categoria" />
                                            <h:selectOneMenu value="#{productsMB.idCategorie}" styleClass="form-control">
                                                <f:ajax event="change"  render=":form_product:" execute="@form" listener="#{productsMB.loadListSubcategories()}"/>
                                                <f:selectItems value="#{productsMB.listCategories}" />
                                            </h:selectOneMenu>
                                        </div>                                
                                        <div class="col-lg-4 col-sm-4 col-md-4 col-xs-12">
                                            <h:outputLabel value="Subcategoria" />
                                            <h:selectOneMenu value="#{productsMB.idSubcategorie}" styleClass="form-control">
                                                <f:ajax event="change"  render=":form_product:" execute="@form" listener="#{productsMB.loadListSuppliers}"/>
                                                <f:selectItems value="#{productsMB.listSubcategories}" />
                                            </h:selectOneMenu>
                                        </div>                                
                                        <div class="col-lg-4 col-sm-4 col-md-4 col-xs-12">

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-12">
                        <div class="panel panel-primary">
                            <div class="panel-body">

                                <h:panelGroup id="id_definitions">
                                    <div class="form-group">
                                        <div class="row">
                                            <div class="col-lg-12 col-md-4 col-sm-4 col-xs-6">
                                                <h:selectBooleanCheckbox value="#{productsMB.products.active}" id="active_p"/>
                                                <h:outputLabel value="Habilitado" style="margin-left: 5px; color: red;" for="active_p"/>
                                            </div>
                                            <div class="col-lg-12 col-md-4 col-sm-4 col-xs-6">
                                                <h:selectBooleanCheckbox value="#{productsMB.products.additionalProduct}" disabled="#{productsMB.products.acceptAdditionalProduct}" id="additional_p">
                                                    <f:ajax event="change" render="@this :form_product:id_definitions" execute="@this" />
                                                </h:selectBooleanCheckbox>                                                    
                                                <h:outputLabel value="Adicional" style="margin-left: 5px" for="additional_p"/>
                                            </div> 
                                            <div class="col-lg-12 col-md-4 col-sm-4 col-xs-6">
                                                <h:selectBooleanCheckbox value="#{productsMB.products.acceptAdditionalProduct}" disabled="#{productsMB.products.additionalProduct}" id="ac_additional_p" title="Aceita adicionais">
                                                    <f:ajax event="change" render="@this :form_product:id_definitions" execute="@this" />
                                                </h:selectBooleanCheckbox>                                                    
                                                <h:outputLabel value="Ac. Adicionais"  style="margin-left: 5px" for="ac_additional_p"/>                                                    
                                            </div> 
                                            <div class="col-lg-12 col-md-4 col-sm-4 col-xs-6">
                                                <h:selectBooleanCheckbox value="#{productsMB.products.comboProduct}" disabled="#{productsMB.products.acceptComboProduct}" id="ac_cbo">
                                                    <f:ajax event="change" render="@this :form_product:id_definitions" execute="@this" />
                                                </h:selectBooleanCheckbox>                                                            
                                                <h:outputLabel value="Combo Item"  style="margin-left: 5px" for="ac_cbo"/>                                                            
                                            </div>
                                            <div class="col-lg-12 col-md-4 col-sm-4 col-xs-6">
                                                <h:selectBooleanCheckbox value="#{productsMB.products.acceptComboProduct}" disabled="#{productsMB.products.comboProduct}" id="ac_mt_cbo">
                                                    <f:ajax event="change" render="@this :form_product:id_definitions" execute="@this" />
                                                </h:selectBooleanCheckbox>
                                                <h:outputLabel value="Monta Combo"  style="margin-left: 5px" for="ac_mt_cbo"/>
                                            </div>
                                            <div class="col-lg-12 col-md-4 col-sm-4 col-xs-6">
                                                <h:selectBooleanCheckbox value="#{productsMB.products.acceptChatSeller}" id="i_cha_sel">
                                                    <f:ajax event="change" render="@this :form_product:id_definitions" execute="@this" />
                                                </h:selectBooleanCheckbox>
                                                <h:outputLabel value="Chat Seller"  style="margin-left: 5px" for="i_cha_sel"/>
                                            </div>
                                            <div class="col-lg-12 col-md-4 col-sm-4 col-xs-6">
                                                <h:selectBooleanCheckbox value="#{productsMB.products.productStore}" id="i_cha_lan">
                                                    <f:ajax event="change" render="@this :form_product:id_definitions" execute="@this" />
                                                </h:selectBooleanCheckbox>
                                                <h:outputLabel value="Lanchonete"  style="margin-left: 5px" for="i_cha_lan"/>
                                            </div>
                                        </div>
                                    </div>
                                </h:panelGroup>                                    
                            </div>
                        </div>
                    </div>
                </div> 

                <div class="row">
                    <div class="col-lg-12">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                Imagens
                            </div>
                            <div class="panel-body">
                                <h:panelGroup id="id_product_images">
                                    <h:graphicImage value="/resources/client/#{productsMB.products.client.id}/products/images/#{productsMB.products.id}/#{productsMB.products.id}.png" alt="Imagens" title="Imagens" width="80"  />
                                </h:panelGroup>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel panel-success">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            Preços
                        </h4>
                    </div>
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-lg-2 col-sm-3 col-md-2 col-xs-6">
                                <h:outputLabel value="Venda" />
                                <h:inputText value="#{productsMB.products.priceString}" maxlength="15" styleClass="form-control" converter="#{toCurrency}">
                                    <f:ajax event="change"  render="@this" execute="@this" />
                                </h:inputText>
                            </div>
                            <div class="col-lg-2 col-sm-3 col-md-2 col-xs-6">
                                <h:outputLabel value="Venda Mínimo" />                                
                                <h:inputText maxlength="15" styleClass="form-control" converter="#{toCurrency}" disabled="true">
                                    <f:ajax event="change"  render="@this" execute="@this" />
                                </h:inputText>
                            </div>
                            <div class="col-lg-2 col-sm-3 col-md-2 col-xs-6">
                                <h:outputLabel value="Custo" />
                                <h:inputText value="#{productsMB.products.costString}" maxlength="15" styleClass="form-control" converter="#{toCurrency}">
                                    <f:ajax event="change"  render="@this" execute="@this" />
                                </h:inputText>
                            </div>
                            <div class="col-lg-3 col-sm-3 col-md-3 col-xs-6">
                                <h:outputLabel value="Impostos (%)" />
                                <h:inputText value="#{productsMB.products.taxesString}" maxlength="15" styleClass="form-control" converter="#{toCurrency}">
                                    <f:ajax event="change"  render="@this" execute="@this" />
                                </h:inputText>
                            </div>
                            <div class="col-lg-3 col-sm-3 col-md-3 col-xs-3">

                            </div>
                        </div>

                    </div>
                </div>

                <div class="panel-group" id="accordionfichatecnica" role="tablist" aria-multiselectable="true">
                    <div class="panel panel-danger">
                        <div class="panel-heading" role="tab" id="fichatecnicab">
                            <h4 class="panel-title">
                                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#fichatecnica" aria-expanded="false" aria-controls="fichatecnica">
                                    Ficha Técnica
                                </a>
                            </h4>
                        </div>
                        <div id="fichatecnica" class="panel-collapse collapse" role="tabpanel" aria-labelledby="fichatecnicab">
                            <div class="panel-body"> 
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-lg-4 col-sm-4 col-md-4 col-xs-12">
                                            <h:outputLabel value="Número de Série" />
                                            <h:inputText value="#{productsMB.products.serialNumber}" maxlength="50" styleClass="form-control">
                                                <f:ajax event="change"  render="@this" execute="@this" />
                                            </h:inputText>
                                        </div>  
                                        <div class="col-lg-4 col-sm-4 col-md-4 col-xs-6">
                                            <h:outputLabel value="Validade" />                        
                                            <h:inputText value="#{productsMB.products.expirationDateHifen}"  styleClass="form-control">
                                                <f:ajax event="change"  render="@this" execute="@this" />
                                                <f:passThroughAttribute name="type" value="date" />
                                            </h:inputText>  
                                        </div>
                                        <div class="col-lg-4 col-sm-4 col-md-4 col-xs-6">
                                            <h:outputLabel value="Cor" />
                                            <h:selectOneMenu value="#{productsMB.idColor}" styleClass="form-control">
                                                <f:ajax event="change"  render="@this" execute="@form"/>
                                                <f:selectItems value="#{productsMB.listColors}" />
                                            </h:selectOneMenu>
                                        </div>  
                                    </div>
                                    <br />
                                    <div class="row">
                                        <div class="col-lg-4 col-sm-4 col-md-4 col-xs-4">
                                            <h:outputLabel value="Largura" />
                                            <h:inputText value="#{productsMB.products.width}" maxlength="15" styleClass="form-control">
                                                <f:ajax event="change"  render="@this" execute="@this" />
                                            </h:inputText>                     
                                        </div>
                                        <div class="col-lg-4 col-sm-4 col-md-4 col-xs-4">
                                            <h:outputLabel value="Altura" />
                                            <h:inputText value="#{productsMB.products.height}" maxlength="15" styleClass="form-control">
                                                <f:ajax event="change"  render="@this" execute="@this" />
                                            </h:inputText>                          
                                        </div>
                                        <div class="col-lg-4 col-sm-4 col-md-4 col-xs-4">
                                            <h:outputLabel value="Profundidade" />
                                            <h:inputText value="#{productsMB.products.depth}" styleClass="form-control"> 
                                                <f:ajax event="change"  render="@this" execute="@this" />
                                            </h:inputText>                          
                                        </div>
                                    </div>                    
                                    <br />
                                    <h:panelGroup id="i_weight">
                                        <div class="row">
                                            <div class="col-lg-6 col-sm-6 col-md-6 col-xs-6">
                                                <h:outputLabel value="Peso Bruto" />
                                                <h:inputText value="#{productsMB.products.grossWeight}" maxlength="15" styleClass="form-control">
                                                    <f:ajax event="change"  render="@this i_weight" execute="@this" />
                                                </h:inputText>                     
                                            </div>
                                            <div class="col-lg-6 col-sm-6 col-md-6 col-xs-6">
                                                <h:outputLabel value="Peso Líquido" />
                                                <h:inputText value="#{productsMB.products.netWeight}" maxlength="15" styleClass="form-control">
                                                    <f:ajax event="change"  render="@this i_weight" execute="@this" />
                                                </h:inputText>                          
                                            </div>
                                        </div>
                                    </h:panelGroup>
                                    <br />
                                    <hr />
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <h:outputLabel value="Detalhes" />
                                            <h:inputTextarea value="#{productsMB.products.details}" styleClass="form-control" rows="10">

                                            </h:inputTextarea>                                    
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>                


                <div class="panel panel-warning">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            Controlar Estoque                            
                            <h:selectBooleanCheckbox value="#{productsMB.products.stockControl}" style="margin-left: 15px">
                                <f:ajax event="change" render="@this id_stock_control" execute="@form" />
                            </h:selectBooleanCheckbox>                                   
                        </h4>
                    </div>
                    <h:panelGroup id="id_stock_control">
                        <h:panelGroup rendered="#{productsMB.products.stockControl}">
                            <div class="panel-body">
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-lg-12 col-sm-12 col-md-12 col-xs-12">
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-3 col-sm-4 col-md-3 col-xs-6">
                                            <h:outputLabel value="Estoque" />
                                            <h:inputText value="#{productsMB.products.stockString}" size="15" styleClass="form-control" maxlength="5" style="text-align: center">
                                                <f:ajax event="change" render="@this" execute="@this" />
                                            </h:inputText>
                                        </div>
                                        <div class="col-lg-3 col-sm-4 col-md-3 col-xs-6">
                                            <h:outputLabel value="Estoque Mínimo" />
                                            <h:inputText value="#{productsMB.products.minStockString}" size="15" styleClass="form-control" maxlength="5" converter="#{thisNumber}" style="text-align: center">
                                                <f:ajax event="change" render="@this" execute="@this" />
                                            </h:inputText>
                                        </div>
                                        <div class="col-lg-3 col-sm-4 col-md-3 col-xs-6">
                                            <h:outputLabel value="Estoque Máximo" />
                                            <h:inputText value="#{productsMB.products.maxStockString}" size="15" styleClass="form-control" maxlength="5" converter="#{thisNumber}" style="text-align: center">
                                                <f:ajax event="change" render="@this" execute="@this" />
                                            </h:inputText>
                                        </div>
                                    </div>                                                    

                                </div>
                            </div>
                        </h:panelGroup>
                    </h:panelGroup>
                </div>

                <c:if test="#{productsMB.products.id ne null}">
                    <c:if test="#{productsMB.products.acceptAdditionalProduct}">
                        <div class="panel-group" id="accordioncombo" role="tablist" aria-multiselectable="true">
                            <div class="panel panel-default">
                                <div class="panel-heading" role="tab" id="additionalb"  style="background: #ffffff; font-weight: bold">
                                    <h4 class="panel-title">
                                        <a role="button" data-toggle="collapse" data-parent="#accordion" href="#additional" aria-expanded="false" aria-controls="additional">
                                            Adicionais
                                        </a>
                                    </h4>
                                </div>
                                <div id="additional" class="panel-collapse collapse" role="tabpanel" aria-labelledby="additionalb">
                                    <div class="panel-body">  
                                        <h:panelGroup id="id_additional_products">
                                            <h:panelGroup>
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <h:panelGroup  id="i_filters">
                                                            <div class="form-group">
                                                                <div class="row">
                                                                    <div class="col-lg-3">
                                                                        <br />
                                                                        <h:selectOneMenu value="#{productsMB.byadd}" styleClass="form-control">
                                                                            <f:ajax event="change" render="@this i_filters" execute="@this" listener="#{productsMB.setQAdd('')}"/>
                                                                            <f:selectItem itemLabel="Filtro" itemValue=""  />
                                                                            <f:selectItem itemLabel="Nome" itemValue="name"  />
                                                                            <f:selectItem itemLabel="Modelo" itemValue="model"  />
                                                                            <f:selectItem itemLabel="Marca" itemValue="brand"  />
                                                                            <f:selectItem itemLabel="Código de barras" itemValue="barcode"  />
                                                                            <f:selectItem itemLabel="Código" itemValue="code"  />
                                                                        </h:selectOneMenu>
                                                                    </div>
                                                                    <div class="col-lg-7">
                                                                        <br />
                                                                        <h:inputText value="#{productsMB.qadd}" disabled="#{productsMB.byadd eq ''}" styleClass="form-control">
                                                                            <f:passThroughAttribute name="placeholder" value="Descrição da pesquisa" />
                                                                        </h:inputText>
                                                                    </div>
                                                                    <div class="col-lg-2">
                                                                        <br />
                                                                        <h:commandLink styleClass="btn btn-default form-control">
                                                                            <f:ajax event="click" render="@this i_result_list" execute="@form" listener="#{productsMB.loadListProducts('additional')}" onevent="statusbaroverlay"/>
                                                                            <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                                                                        </h:commandLink>
                                                                    </div>
                                                                </div>
                                                                <br />
                                                                <br />
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <div class="panel panel-default">
                                                                            <div class="panel-heading">Produtos Adicionais Disponíveis</div>
                                                                            <h:panelGroup layout="block" id="i_result_list">
                                                                                <div class="table-responsive table-scroll-max">
                                                                                    <h:dataTable var="product" value="#{productsMB.listProducts}" styleClass="table table-striped table-hover table-scroll-max">
                                                                                        <h:column>
                                                                                            <f:facet name="header">
                                                                                                #
                                                                                            </f:facet>
                                                                                            #{product.id}
                                                                                        </h:column>
                                                                                        <h:column>
                                                                                            <h:commandLink>
                                                                                                <f:ajax event="click" listener="#{productsMB.addAdditionalProducts(product)}" execute="@form" render=":form_product:i_result_add" />
                                                                                                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                                                                            </h:commandLink>
                                                                                        </h:column>
                                                                                        <h:column>
                                                                                            <f:facet name="header">
                                                                                                Nome        
                                                                                            </f:facet>
                                                                                            #{product.name}
                                                                                        </h:column>
                                                                                        <h:column>
                                                                                            <f:facet name="header">
                                                                                                Modelo     
                                                                                            </f:facet>
                                                                                            #{product.model}
                                                                                        </h:column>
                                                                                        <h:column>
                                                                                            <f:facet name="header">
                                                                                                Marca
                                                                                            </f:facet>
                                                                                            #{product.brand}
                                                                                        </h:column>                                                                    
                                                                                        <h:column>
                                                                                            <f:facet name="header">
                                                                                                Preço
                                                                                            </f:facet>
                                                                                            #{product.priceString}
                                                                                        </h:column>
                                                                                    </h:dataTable> 
                                                                                </div>
                                                                            </h:panelGroup>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </h:panelGroup>                                    
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <br />
                                                        <br />                                                        
                                                        <br />
                                                        <br />
                                                        <br />
                                                        <div class="panel panel-default">
                                                            <div class="panel-heading">Adicionados</div>
                                                            <h:panelGroup layout="block" id="i_result_add">
                                                                <div class="table-responsive table-scroll-max">
                                                                    <h:dataTable var="additionalProduct" value="#{productsMB.listAdditionalProducts}" styleClass="table table-striped table-hover table-scroll-max">
                                                                        <h:column>
                                                                            <f:facet name="header">
                                                                                #        
                                                                            </f:facet>
                                                                            #{additionalProduct.product.id}
                                                                        </h:column>                                        
                                                                        <h:column>
                                                                            <h:commandLink>
                                                                                <f:ajax event="click" listener="#{productsMB.removeAdditionalProducts(additionalProduct)}" execute="@form" render=":form_product:i_result_add" />
                                                                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                                                            </h:commandLink>
                                                                        </h:column>                                        
                                                                        <h:column>
                                                                            <f:facet name="header">
                                                                                Nome        
                                                                            </f:facet>
                                                                            #{additionalProduct.product.name}
                                                                        </h:column>
                                                                        <h:column>
                                                                            <f:facet name="header">
                                                                                Modelo     
                                                                            </f:facet>
                                                                            #{additionalProduct.product.model}
                                                                        </h:column>
                                                                        <h:column>
                                                                            <f:facet name="header">
                                                                                Marca
                                                                            </f:facet>
                                                                            #{additionalProduct.product.brand}
                                                                        </h:column>
                                                                        <h:column>
                                                                            <f:facet name="header">
                                                                                Preço
                                                                            </f:facet>
                                                                            #{additionalProduct.product.priceString}
                                                                        </h:column>
                                                                    </h:dataTable> 
                                                                </div>
                                                            </h:panelGroup>
                                                        </div>
                                                    </div>
                                                </div>
                                            </h:panelGroup>
                                        </h:panelGroup>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </c:if>
                </c:if>

                <c:if test="#{productsMB.products.id ne null}">
                    <c:if test="#{productsMB.products.acceptComboProduct}">
                        <div class="panel-group" id="accordioncombo" role="tablist" aria-multiselectable="true">
                            <div class="panel panel-default">
                                <div class="panel-heading" role="tab" id="accordioncombob"  style="background: #ffffff; font-weight: bold">
                                    <h4 class="panel-title">
                                        <a role="button" data-toggle="collapse" data-parent="#accordion" href="#combo" aria-expanded="false" aria-controls="combo">
                                            Combo
                                        </a>
                                    </h4>
                                </div>
                                <div id="combo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="accordioncombob">
                                    <div class="panel-body"> 
                                        <h:panelGroup id="id_combo_products">
                                            <h:panelGroup>
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <h:panelGroup  id="i_filters_combo">
                                                            <div class="form-group">
                                                                <div class="row">
                                                                    <div class="col-lg-3">
                                                                        <br />
                                                                        <h:selectOneMenu value="#{productsMB.by}" styleClass="form-control">
                                                                            <f:ajax event="change" render="@this i_filters_combo" execute="@this" listener="#{productsMB.setQ('')}"/>
                                                                            <f:selectItem itemLabel="Filtro" itemValue=""  />
                                                                            <f:selectItem itemLabel="Nome" itemValue="name"  />
                                                                            <f:selectItem itemLabel="Modelo" itemValue="model"  />
                                                                            <f:selectItem itemLabel="Marca" itemValue="brand"  />
                                                                            <f:selectItem itemLabel="Código de barras" itemValue="barcode"  />
                                                                            <f:selectItem itemLabel="Código" itemValue="code"  />
                                                                        </h:selectOneMenu>
                                                                    </div>
                                                                    <div class="col-lg-7">
                                                                        <br />
                                                                        <h:inputText value="#{productsMB.q}" disabled="#{productsMB.by eq ''}" styleClass="form-control">
                                                                            <f:passThroughAttribute name="placeholder" value="Descrição da pesquisa" />
                                                                        </h:inputText>
                                                                    </div>
                                                                    <div class="col-lg-2">
                                                                        <br />
                                                                        <h:commandLink styleClass="btn btn-default form-control">
                                                                            <f:ajax event="click" render="@this i_result_list_combo" execute="@form" listener="#{productsMB.loadListProducts('combo')}" onevent="statusbaroverlay"/>
                                                                            <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                                                                        </h:commandLink>
                                                                    </div>
                                                                </div>
                                                                <br />
                                                                <br />
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <div class="panel panel-default">
                                                                            <div class="panel-heading">Combo</div>
                                                                            <h:panelGroup layout="block" id="i_result_list_combo">
                                                                                <div class="table-responsive table-scroll-max">
                                                                                    <h:dataTable var="product" value="#{productsMB.listProducts}" styleClass="table table-striped table-hover table-scroll-max">
                                                                                        <h:column>
                                                                                            <f:facet name="header">
                                                                                                #
                                                                                            </f:facet>
                                                                                            #{product.id}
                                                                                        </h:column>
                                                                                        <h:column>
                                                                                            <h:commandLink>
                                                                                                <f:ajax event="click" listener="#{productsMB.addComboProducts(product)}" execute="@form" render=":form_product:i_result_add_combo" />
                                                                                                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                                                                            </h:commandLink>
                                                                                        </h:column>
                                                                                        <h:column>
                                                                                            <f:facet name="header">
                                                                                                Nome        
                                                                                            </f:facet>
                                                                                            #{product.name}
                                                                                        </h:column>
                                                                                        <h:column>
                                                                                            <f:facet name="header">
                                                                                                Modelo     
                                                                                            </f:facet>
                                                                                            #{product.model}
                                                                                        </h:column>
                                                                                        <h:column>
                                                                                            <f:facet name="header">
                                                                                                Marca
                                                                                            </f:facet>
                                                                                            #{product.brand}
                                                                                        </h:column>                                                                    
                                                                                        <h:column>
                                                                                            <f:facet name="header">
                                                                                                Preço
                                                                                            </f:facet>
                                                                                            #{product.priceString}
                                                                                        </h:column>
                                                                                    </h:dataTable> 
                                                                                </div>
                                                                            </h:panelGroup>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </h:panelGroup>                                    
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <br />
                                                        <br />                                                        
                                                        <br />
                                                        <br />
                                                        <br />
                                                        <div class="panel panel-default">
                                                            <div class="panel-heading">Adicionados</div>
                                                            <h:panelGroup layout="block" id="i_result_add_combo">
                                                                <div class="table-responsive table-scroll-max">
                                                                    <h:dataTable var="comboProduct" value="#{productsMB.listComboProducts}" styleClass="table table-striped table-hover table-scroll-max">
                                                                        <h:column>
                                                                            <f:facet name="header">
                                                                                #        
                                                                            </f:facet>
                                                                            #{comboProduct.product.id}
                                                                        </h:column>                                        
                                                                        <h:column>
                                                                            <h:commandLink>
                                                                                <f:ajax event="click" listener="#{productsMB.removeComboProducts(comboProduct)}" execute="@form" render=":form_product:i_result_add_combo" />
                                                                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                                                            </h:commandLink>
                                                                        </h:column>                                        
                                                                        <h:column>
                                                                            <f:facet name="header">
                                                                                Nome        
                                                                            </f:facet>
                                                                            #{comboProduct.product.name}
                                                                        </h:column>
                                                                        <h:column>
                                                                            <f:facet name="header">
                                                                                Modelo     
                                                                            </f:facet>
                                                                            #{comboProduct.product.model}
                                                                        </h:column>
                                                                        <h:column>
                                                                            <f:facet name="header">
                                                                                Marca
                                                                            </f:facet>
                                                                            #{comboProduct.product.brand}
                                                                        </h:column>
                                                                        <h:column>
                                                                            <f:facet name="header">
                                                                                Preço
                                                                            </f:facet>
                                                                            #{comboProduct.product.priceString}
                                                                        </h:column>
                                                                    </h:dataTable> 
                                                                </div>
                                                            </h:panelGroup>

                                                        </div>
                                                    </div>
                                                </div>
                                            </h:panelGroup>
                                        </h:panelGroup>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </c:if>
                </c:if>

                <c:if test="#{productsMB.products.id ne null}">
                    <div class="panel-group" id="accordionsuppliers" role="tablist" aria-multiselectable="true">
                        <div class="panel panel-default">
                            <div class="panel-heading" role="tab" id="suppliersb"  style="background: #ffffff; font-weight: bold">
                                <h4 class="panel-title">
                                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#suppliers" aria-expanded="false" aria-controls="suppliers">
                                        Fornecedor
                                    </a>
                                </h4>
                            </div>
                            <div id="suppliers" class="panel-collapse collapse" role="tabpanel2" aria-labelledby="id_suppliers">
                                <div class="panel-body">  
                                    <h:panelGroup id="id_suppliers">
                                        <h:panelGroup>
                                            <div class="panel panel-default">
                                                <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-lg-10">
                                                            <h:selectOneMenu value="#{productsMB.idSupplier}" styleClass="form-control">
                                                                <f:ajax event="change"  render="@this" execute="@form"/>
                                                                <f:selectItems value="#{productsMB.listSuppliers}" />
                                                            </h:selectOneMenu>                                                            
                                                        </div>
                                                        <div class="col-lg-2">
                                                            <h:commandLink>
                                                                <f:ajax event="click" listener="#{productsMB.addProductSuppliers}" execute="@form" render=":form_product:i_result_add_suppliers" />
                                                                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                                            </h:commandLink>                                                            
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="panel-footer">
                                                    <h:panelGroup layout="block" id="i_result_add_suppliers">
                                                        <div class="table-responsive table-scroll-max">
                                                            <h:dataTable var="productSuppliers" value="#{productsMB.listProductSuppliers}" styleClass="table table-striped table-hover table-scroll-max">
                                                                <h:column>
                                                                    <f:facet name="header">
                                                                        #        
                                                                    </f:facet>
                                                                    #{productSuppliers.id}
                                                                </h:column>                                        
                                                                <h:column>
                                                                    <h:commandLink>
                                                                        <f:ajax event="click" listener="#{productsMB.removeProductSuppliers(productSuppliers)}" execute="@form" render=":form_product:i_result_add_suppliers" />
                                                                        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                                                    </h:commandLink>
                                                                </h:column>                                        
                                                                <h:column>
                                                                    <f:facet name="header">
                                                                        Nome        
                                                                    </f:facet>
                                                                    #{productSuppliers.supplier.person.name}
                                                                </h:column>
                                                                <h:column>
                                                                    <f:facet name="header">
                                                                        Telefone
                                                                    </f:facet>
                                                                    #{productSuppliers.supplier.person.dddPhone}#{productSuppliers.supplier.person.phone}
                                                                </h:column>                                                                    
                                                                <h:column>
                                                                    <f:facet name="header">
                                                                        Celular
                                                                    </f:facet>
                                                                    #{productSuppliers.supplier.person.dddMobilePhone}#{productSuppliers.supplier.person.mobilePhone}
                                                                </h:column>                                                                    
                                                                <h:column>
                                                                    <f:facet name="header">
                                                                        E-mail
                                                                    </f:facet>
                                                                    #{productSuppliers.supplier.person.email}
                                                                </h:column>                                                                    
                                                            </h:dataTable> 
                                                        </div>
                                                    </h:panelGroup>
                                                </div>
                                            </div> 
                                        </h:panelGroup>
                                    </h:panelGroup>
                                </div>
                            </div>
                        </div>
                    </div>
                </c:if>

                <h:column rendered="false">
                    <div class="panel-group" id="accordioninfofiscal" role="tablist" aria-multiselectable="true">
                        <div class="panel panel-default">
                            <div class="panel-heading" role="tab" id="infofiscalb"  style="background: #ffffff; font-weight: bold">
                                <h4 class="panel-title">
                                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#infofiscal" aria-expanded="false" aria-controls="infofiscal">
                                        Informações Fiscais (opcional)
                                    </a>
                                </h4>
                            </div>
                            <div id="infofiscal" class="panel-collapse collapse" role="tabpanel" aria-labelledby="infofiscalb">
                                <div class="panel-body"> 
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <label>Tipo</label>
                                            <select id="TipoDeProdutoSelectedId" name="TipoDeProdutoSelectedId" class="form-control" disabled="true">
                                                <option value="">(selecione)</option> 
                                                <option value="e54a349b-fb85-464f-9b9c-fe4f360be24c">Ativo imobilizado
                                                </option><option value="dab74fa8-0051-443a-a51c-e0581acab193">Embalagem
                                                </option><option value="3b08fdd6-e4e9-41a8-893c-b05768b34b93">Material de uso e consumo
                                                </option><option value="6a4ffffe-c94c-43a8-bae0-5220102a694e">Matéria-prima
                                                </option><option value="f133ede5-4452-482d-9a8d-3c3e38949010">Mercadoria para revenda
                                                </option><option value="ed8f4a5e-4ab3-41e8-bb3f-0954d1c9bd55">Outras
                                                </option><option value="4d3c7a80-ad1e-42d1-93f8-bef771b649cb">Outros insumos
                                                </option><option value="3e5f38fd-b695-43d4-9733-046d6d4cc1d6">Produto acabado
                                                </option><option value="0ef02c2c-879d-4d10-9817-08f02a7fa3ab">Produto em processo
                                                </option><option value="177e5337-74fd-46d0-9355-65110ad1c6b4">Produto intermediário
                                                </option><option value="5a2d3a2a-e4a7-4eb8-9dc1-14c9ecdf0940">Serviços
                                                </option><option value="bffdaa33-1c3d-4715-9c0b-f59537b852c8">Subproduto
                                                </option>
                                            </select>
                                        </div>
                                        <div class="col-lg-6">
                                            <label>Origem</label>
                                            <select id="OrigemDoProdutoSelectedId" name="OrigemDoProdutoSelectedId" class="form-control" disabled="disabled" >
                                                <option value="">(selecione)</option> <option value="6f9a7a26-446a-4ea5-87a0-b51c894f9ef4">Estrangeira adquirida no mercado interno
                                                </option><option value="f28cb4e8-379d-4a48-b155-b59cf2946e8e">Estrangeira adquirida no mercado interno sem similar nacional
                                                </option><option value="ef649aab-96e2-465c-858a-4810040748e0">Estrangeira importação direta
                                                </option><option value="805f294e-5f23-405e-b4de-d4a751b49c35">Estrangeira importação direta sem similar nacional
                                                </option><option value="c5162064-9c5a-4698-b1cc-4e0013d1581c">Nacional
                                                </option><option value="9c8c6ba9-b364-48e9-b1c6-30f90a765977">Nacional com conteúdo de importação inferior ou igual a 40%
                                                </option><option value="8833f78e-2e71-4e1a-9364-c5f38726d263">Nacional com conteúdo de importação superior a 40% e inferior ou igual a 70%
                                                </option><option value="13efb4e5-2c48-4078-9900-4e472d7701ca">Nacional com conteúdo de importação superior a 70%
                                                </option><option value="a2c33a5c-a7cb-4e49-80fb-dddd646159f6">Nacional seguindo processos produtivos de acordo com os Ajustes legais
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <br />
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <label>NCM - Nomenclatura Comum do Mercosul</label>
                                            <input type="text" disabled="disabled" placeholder="NCM" class="form-control"/>
                                        </div>
                                        <div class="col-lg-6">
                                            <label>CEST - Código Especificador da Substituição Tributária  (opcional)</label>
                                            <input type="text" disabled="disabled" placeholder="NCM" class="form-control"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel-group" id="accordionicms" role="tablist" aria-multiselectable="true">
                        <div class="panel panel-default">
                            <div class="panel-heading" role="tab" id="icmsb"  style="background: #ffffff; font-weight: bold">
                                <h4 class="panel-title">
                                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#icms" aria-expanded="false" aria-controls="icms">
                                        ICMS (opcional)
                                    </a>
                                </h4>
                            </div>
                            <div id="icms" class="panel-collapse collapse" role="tabpanel" aria-labelledby="icmsb">
                                <div class="panel-body"> 
                                    <div class="row">
                                        <div class="col-lg-2">
                                            <label>Origem</label>
                                            <select    class="form-control" disabled="true">
                                                <option value="">(selecione)</option> 
                                                <option value="SP">SP</option>                                                
                                            </select>
                                        </div>
                                        <div class="col-lg-2">
                                            <label>Destino</label>
                                            <select    class="form-control" disabled="true">
                                                <option value="">(selecione)</option> 
                                                <option value="SP">BA</option>                                                
                                            </select>
                                        </div>
                                        <div class="col-lg-2">
                                            <label>Tipo de Cliente</label>
                                            <select    class="form-control" disabled="true">
                                                <option value="">(selecione)</option> 
                                                <option value="ambos">BA</option>                                                
                                                <option value="consumidor_nao_contribuinte">Consumidor / Não Contribuinte</option>                                                
                                                <option value="empresa_contribuinte">Empresa / Contribuinte</option>                                                
                                            </select>
                                        </div>
                                        <div class="col-lg-2">
                                            <label>Situação tributária</label>
                                            <select name="TributacoesIcmsPersonalizadas[0].SituacaoTributariaIcmsSelectedId" class="form-control" disabled="disabled">
                                                <option value="">(selecione)</option> 
                                                <option value="8187ae90-4ec8-4d17-a3c6-9ac8923036b3">0 - Tributado integralmente</option>
                                                <option value="e331efa5-375f-4f42-8767-b43b6dec358d">10 - Tributado com cobrança de ICMS por ST</option>
                                                <option value="2ddfa7b6-2756-4c34-aa14-15f1ca08b9a2">20 - Redução de base de cálculo</option>
                                                <option value="f8e5c8b7-9226-4697-bd28-b2b396ef1d94">30 - Isento ou não tributado com cobrança de ICMS ST</option>
                                                <option value="8f6380b6-c833-4177-91e8-e4f926401363">40 - Isento</option>
                                                <option value="69881af7-cbce-4a5c-a86e-65730f5c1295">41 - Não tributado</option>
                                                <option value="31d45a96-238c-46e6-9a43-16a2a5653c2d">50 - Suspensão</option>
                                                <option value="cac3d339-ba64-4b9e-aa7f-24411c3a3451">51 - Diferido</option>
                                                <option value="9a959087-19cc-4f36-ac73-60d9cb825302">60 - ICMS cobrado anteriormente por ST</option>
                                                <option value="eecd96ca-f104-403e-b143-423409e5b4d5">70 - Redução na base de cálculo e cobrança do ICMS por ST</option>
                                                <option value="525d2c9f-1b56-4ff4-8fb7-d2b77294cc59">90 - Outros</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-2">
                                            <label>Alíquota</label>
                                            <input type="text" disabled="disabled" placeholder="NCM" class="form-control"/>
                                        </div>
                                        <div class="col-lg-2">
                                            <label>MVA</label>
                                            <input type="text" disabled="disabled" placeholder="NCM" class="form-control"/>
                                        </div>
                                        <div class="col-lg-2">
                                            <label>Redução na base de cálculo</label>
                                            <input type="text" disabled="disabled" placeholder="NCM" class="form-control"/>
                                        </div>
                                    </div>
                                    <br />
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <label>NCM - Nomenclatura Comum do Mercosul</label>
                                            <input type="text" disabled="disabled" placeholder="NCM" class="form-control"/>
                                        </div>
                                        <div class="col-lg-6">
                                            <label>CEST - Código Especificador da Substituição Tributária  (opcional)</label>
                                            <input type="text" disabled="disabled" placeholder="NCM" class="form-control"/>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel-group" id="accordionipi" role="tablist" aria-multiselectable="true">
                        <div class="panel panel-default">
                            <div class="panel-heading" role="tab" id="ipib"  style="background: #ffffff; font-weight: bold">
                                <h4 class="panel-title">
                                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#ipi" aria-expanded="false" aria-controls="ipi">
                                        IPI (opcional)
                                    </a>
                                </h4>
                            </div>
                            <div id="ipi" class="panel-collapse collapse" role="tabpanel" aria-labelledby="ipib">
                                <div class="panel-body"> 

                                    <div class="row">
                                        <div class="col-lg-6">
                                            <label>Situação tributária</label>
                                            <select class="form-control" disabled="true">
                                                <option value="">(selecione)</option>
                                            </select>
                                        </div>
                                        <div class="col-lg-6">
                                            <label>Alíquota</label>
                                            <input type="text" disabled="disabled" placeholder="NCM" class="form-control"/>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <label>Enquadramento de IPI </label>
                                            <select    class="form-control" disabled="true">
                                                <option value="">(selecione)</option> 
                                                <option value="ambos">BA</option>                                                
                                                <option value="consumidor_nao_contribuinte">Consumidor / Não Contribuinte</option>                                                
                                                <option value="empresa_contribuinte">Empresa / Contribuinte</option>                                                
                                            </select>
                                        </div>
                                    </div> 

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel-group" id="accordionpiscofins" role="tablist" aria-multiselectable="true">
                        <div class="panel panel-default">
                            <div class="panel-heading" role="tab" id="piscofinsb"  style="background: #ffffff; font-weight: bold">
                                <h4 class="panel-title">
                                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#piscofins" aria-expanded="false" aria-controls="piscofins">
                                        PIS e COFINS (opcional)
                                    </a>
                                </h4>
                            </div>
                            <div id="piscofins" class="panel-collapse collapse" role="tabpanel" aria-labelledby="piscofinsb">
                                <div class="panel-body"> 
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <label>Situação tributária</label>
                                            <select data-pis-cofins="" id="PisCofinsDoProduto.SituacaoTributariaId" name="PisCofinsDoProduto.SituacaoTributariaId" disabled="disabled" class="form-control"><option value="">(selecione)</option> <option value="e269baa4-d60e-4e99-bbbf-759d7f7d6f29">1 - Operação Tributável com Alíquota Básica</option><option value="8f2ddf57-5b05-4654-a191-d639e4aec1ab">2 - Operação Tributável com Alíquota Diferenciada</option><option value="da7f62c1-def9-4201-a011-ff701ed5d45d">3 - Operação Tributável com Alíquota por Unidade de Medida de Produto</option><option value="2044bf44-ec60-42b9-aaf4-125a84bef4c7">4 - Operação Tributável Monofásica - Revenda a Alíquota Zero</option><option value="0adf5dd6-0c0d-485f-b984-cc0b021aba90">5 - Operação Tributável por Substituição Tributária</option><option value="7eee3f14-6499-4e35-b607-ac5947b11c4b">6 - Operação Tributável a Alíquota Zero</option><option value="81be6370-8211-457e-8a84-27b35d209949">7 - Operação Isenta da Contribuição</option><option value="cee6211d-9435-4b8e-b6c1-813bb47e2f64">8 - Operação Sem Incidência da Contribuição</option><option value="0cafc6ca-1f2f-458b-9345-b60c4c7816a5">9 - Operação com Suspensão da Contribuição</option><option value="0787fa75-17e8-4331-9fea-bdd598ae1fe0">49 - Outras Operações de Saída</option><option value="a0ac707b-8672-471e-8f5d-6e09f3969417">50 - Operação com Direito a Crédito - Vinc Exclusiv a Rec Trib no Merc Int</option><option value="23a32218-2780-4efc-801e-16390aaa576c">51 - Operação com Direito a Crédito - Vinc Exclusiv a Rec Não Trib no Merc Int</option><option value="b2caab51-786e-45cf-8524-94fd4d116714">52 - Operação com Direito a Crédito - Vinc Exclusiv a Rec de Exp</option><option value="ff8aaf54-f9bc-4491-ada7-5a524a023212">53 - Operação com Direito a Crédito - Vinc a Rec Trib e Não-Trib no Merc Int</option><option value="0dcabcef-1a79-48b2-9ea6-3d9724255d5b">54 - Operação com Direito a Crédito - Vinc a Rec Trib no Merc Int e de Exp</option><option value="76196484-7368-48a6-8fb9-3f42d23677ad">55 - Operação com Direito a Crédito - Vinc a Rec Não-Trib no Mer Int e de Exp</option><option value="36fa3be1-bd02-44ed-b859-5bf85b351848">56 - Operação com Direito a Crédito - Vinc a Rec Trib e Não-Trib no Merc Int e de Exp</option><option value="82e1acac-7b46-45f8-83e5-0ac4b620dff6">60 - Crédito Presumido - Operação de Aqu Vinc Exclusiv a Rec Trib no Merc Int</option><option value="ce23b7e3-4f50-4925-82f7-85feca5ecfe4">61 - Crédito Presumido - Operação de Aqu Vinc Exclusiv a Rec Não-Trib no Merc Int</option><option value="fb803221-48c6-4e2f-85ab-f3560257d602">62 - Crédito Presumido - Operação de Aqu Vinc Exclusiv a Rec de Exp</option><option value="f5c70ceb-cfee-4fad-9720-6cf8ffce7465">63 - Crédito Presumido - Operação de Aqu Vinc a Rec Trib e Não-Trib no Merc Int</option><option value="c80c593e-5983-4e70-84b8-0de8ebfd03dd">64 - Crédito Presumido - Operação de Aqu Vinc a Rec Trib no Merc Int e de Exp</option><option value="c89c24f3-f116-4cc3-aa9d-91f24337b3ec">65 - Crédito Presumido - Operação de Aqu Vinc a Rec Não-Trib no Merc Int e de Exp</option><option value="cd0b7688-2a71-47d5-bb25-9f10f096e747">66 - Crédito Presumido - Operação de Aqu Vinc a Rec Trib e Não-Trib no Merc Int e de Exp</option><option value="4a7d26e2-edef-4788-a08c-5659dee95e0c">67 - Crédito Presumido - Outras Operações</option><option value="6e0e36db-3583-4da8-b530-8c59e45df286">70 - Operação de Aquisição sem Direito a Crédito</option><option value="4406a024-45e1-460e-a239-18a9f36c1a97">71 - Operação de Aquisição com Isenção</option><option value="7fd52361-ef7e-4418-979a-9bf7347b9932">72 - Operação de Aquisição com Suspensão</option><option value="38dab77f-7c60-44ee-b56c-086f79fe8ad9">73 - Operação de Aquisição a Alíquota Zero</option><option value="2d1817ba-eacc-488e-a3ea-8cd37b1fee4d">74 - Operação de Aquisição sem Incidência da Contribuição</option><option value="bfa8527b-6887-4aa0-986e-4a16fff67f45">75 - Operação de Aquisição por Substituição Tributária</option><option value="22f02691-d25c-4bf7-81f2-10f5021b13f4">98 - Outras Operações de Entrada</option><option value="287490db-c51b-4743-82a1-e18093205fbe">99 - Outras Operações</option></select>
                                        </div>
                                        <div class="col-lg-3">
                                            <label>Alíquota - PIS</label>
                                            <input type="text" disabled="disabled" placeholder="NCM" class="form-control"/>
                                        </div>
                                        <div class="col-lg-3">
                                            <label>Alíquota - COFINS</label>
                                            <input type="text" disabled="disabled" placeholder="NCM" class="form-control"/>
                                        </div>
                                    </div> 

                                </div>
                            </div>
                        </div>
                    </div>
                </h:column>
                <!-- SAVE -->
                <div class="modal fade" id="dlg_store" tabindex="-1" role="dialog" aria-labelledby="Gravar registro?">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"></span></button>
                                <h4 class="modal-title" >Gravar Cadastro</h4>
                            </div>
                            <div class="modal-body">

                            </div>
                            <div class="modal-footer">
                                <h:commandLink value="Confirmar" class="btn btn-primary">
                                    <f:ajax event="click" execute="@form" render=":form_product: :form_upload:" listener="#{productsMB.save}" onevent="statusbaroverlay"/>
                                    <f:passThroughAttribute name="data-dismiss" value="modal" />
                                </h:commandLink>
                                <button type="button" class="btn btn-default" data-dismiss="modal">Desfazer</button>
                            </div>
                        </div>
                    </div>
                </div>   
                <!-- DELETE -->
                <div class="modal fade" id="dlg_delete" tabindex="-1" role="dialog" aria-labelledby="Excluir registro?">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"></span></button>
                                <h4 class="modal-title" >Excluir Cadastro</h4>
                            </div>
                            <div class="modal-body">

                            </div>
                            <div class="modal-footer">
                                <h:commandLink value="Confirmar" class="btn btn-primary">
                                    <f:ajax event="click" execute="@form" render=":form_product:" listener="#{productsMB.delete}" onevent="statusbaroverlay"/>
                                    <f:passThroughAttribute name="data-dismiss" value="modal" />
                                </h:commandLink>
                                <button type="button" class="btn btn-default" data-dismiss="modal">Desfazer</button>
                            </div>
                        </div>
                    </div>
                </div>
                <script>
                    $(document).ready(function () {
                        $(".nav-tabs a").click(function () {
                            $(this).tab('show');
                        });
                        load_masks();
                    });
                </script> 

                <h:commandLink id="i_load_product">
                    <f:ajax event="click" render=":form_product:" execute="@form" listener="#{productsMB.findByBarcode}" onevent="statusbaroverlay"/>                    
                </h:commandLink>
            </h:form>

            <!-- SAVE -->
            <div class="modal fade" id="dlg_upload_file" tabindex="-1" role="dialog">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"></span></button>
                            <h4 class="modal-title" >Imagens</h4>
                        </div>
                        <div class="modal-body">
                            <h:form enctype="multipart/form-data" id="form_upload">
                                <h:column rendered="#{productsMB.products.id ne null}">
                                    <label class="btn btn-default">
                                        <h:inputFile value="#{productsMB.fileUpload}" f:multiple="true">
                                            <f:passThroughAttribute name="multiple" value="multiple" />
                                            <f:ajax event="change" execute="@form" render=":form_upload: :form_product:id_product_images" listener="#{productsMB.upload}" onevent="statusbar"/>
                                        </h:inputFile>                        
                                    </label>
                                    <h:messages />
                                </h:column>
                            </h:form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Desfazer</button>
                        </div>
                    </div>
                </div>
            </div> 

        </ui:define>
    </ui:composition>
</html>
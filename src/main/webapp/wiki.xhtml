<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <title>Cidades API</title>
    </h:head>
    <h:body>
        <h1>Cidades API</h1>
        <strong>Wiki:</strong>
        <ul>
            <li>
                <strong><u>Status do servidor</u></strong><br /><br />
                Method: GET
                <br /><br />
                <code style="padding: 5px; background: #eaeaea">
                    <a href="/xptosystems2/ws/status/active/" target="_blank">
                        http://uri/status/active/
                    </a>
                </code>
            </li>
        </ul>
        <br />
        <ul>
            <li>
                <strong><u>1 - Ler o arquivo CSV das cidades para a base de dados</u></strong><br /><br />
                OK
                <br /><br />
            </li>
        </ul>
        <br />
        <ul>
            <li>
                <strong><u>2 - Retornar somente as cidades que são capitais ordenadas por nome</u></strong><br /><br />
                Method: GET
                <br /><br />
                <code style="padding: 5px; background: #eaeaea">
                    <a href="/xptosystems2/ws/cities/capitals/" target="_blank">
                        http://uri/ws/cities/capitals/                        
                    </a>
                </code>
            </li>
        </ul>
        <br />
        <ul>
            <li>
                <strong><u>3 - Retornar o nome do estado com a maior e menor quantidade de cidades e a quantidade de cidades</u></strong><br /><br />
                Method: GET
                <br /><br />
                <code style="padding: 5px; background: #eaeaea">
                    <a href="/xptosystems2/ws/cities/min_max_cities_by_state/" target="_blank">
                        http://uri/ws/cities/min_max_cities_by_state/                        
                    </a>
                </code>
            </li>
        </ul>
        <br />
        <ul>
            <li>
                <strong><u>4 - Retornar a quantidade de cidades por estado</u></strong><br /><br />
                Method: GET
                <br /><br />
                <code style="padding: 5px; background: #eaeaea">
                    <a href="/xptosystems2/ws/cities/count_by_state/sp" target="_blank">
                        http://uri/ws/cities/count_by_state/{uf}                        
                    </a>
                </code>
            </li>
        </ul> 
        <br />       
        <ul>
            <li>
                <strong><u>5 - Obter os dados da cidade informando o id do IBGE</u></strong><br /><br />
                Method: GET
                <br /><br />
                <code style="padding: 5px; background: #eaeaea">
                    <a href="/xptosystems2/ws/cities/ibge_id/2800308" target="_blank">
                        http://uri/ws/cities/ibge_id/{ibge_id}
                    </a>
                </code>
            </li>
        </ul>
        <br />
        <ul>
            <li>
                <strong><u>6 - Retornar o nome das cidades baseado em um estado selecionado</u></strong><br /><br />
                Method: GET
                <br /><br />
                <code style="padding: 5px; background: #eaeaea">
                    <a href="/xptosystems2/ws/cities/uf/sp" target="_blank">
                        http://uri/ws/cities/uf/{uf}
                    </a>
                </code>
            </li>
        </ul>
        <br />
        <ul>
            <li>
                <strong><u>7 - Permitir adicionar uma nova Cidade</u></strong><br /><br />
                Method: POST<br /><br />
                <code style="padding: 5px; background: #eaeaea">
                    http://uri/ws/cities/store
                </code>
                <br /><br />
                Form Param: (String) cities = <br /><br />
                <div style="background: #001921; color: white; width: 300px; border: 1px dashed white">
                    <code style="padding: 5px;"><br />
                        &nbsp;&nbsp;{                    <br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"id":null,       <br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ibge_id":null,  <br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"uf":"UF",       <br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"name":"City",   <br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"capital":false, <br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"lon":0,         <br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"lat":0,         <br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"no_accents":"", <br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"alternative_names":"", <br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"micro_region":"",<br />  
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"meso_region":"", <br />
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"register_date":null <br />
                        &nbsp;&nbsp;} <br />
                    </code>
                </div><br />    
                <p>Para gravar a cidade, deve enviar o objeto Cities no formato json dentro da variável <b><u>cities</u></b>.</p>
                <br /><br />
            </li>
        </ul>
        <br />
        <ul>
            <li>
                <strong><u>8 - Permitir deletar uma cidade</u></strong><br /><br />
                Method: DELETE
                <br /><br />
                <code style="padding: 5px; background: #eaeaea">
                    http://uri/ws/cities/delete/
                </code>
                <br /><br />
                Header Param: (String) ibge_id = '15478'
                <br /><br />
                <p>Para remover a cidade deve se enviar o ibge_id no cabeçalho/header da requisição</p>
            </li>
        </ul>
        <br />
        <ul>
            <li>
                <strong><u>9 -Permitir selecionar uma coluna (do CSV) e através dela entrar com uma string para filtrar. retornar assim todos os objetos que contenham tal string</u></strong><br /><br />
                Method: GET
                <br /><br />
                <code style="padding: 5px; background: #eaeaea">
                    <a href="/xptosystems2/ws/cities/search/name/so paulo" target="_blank">
                        http://uri/ws/cities/search/{column}/{query}
                    </a>
                </code>
            </li>
        </ul>
        <br />
        <ul>
            <li>
                <strong><u>10 - Retornar a quantidade de registro baseado em uma coluna. Não deve contar itens iguais</u></strong><br /><br />
                Method: GET
                <br /><br />
                <code style="padding: 5px; background: #eaeaea">http://uri/ws/cities/total_column/{column}</code>
            </li>
        </ul>
        <br />
        <ul>
            <li>
                <strong><u>11 - Retornar a quantidade de registros total;</u></strong><br /><br />
                Method: GET
                <br /><br />
                <code style="padding: 5px; background: #eaeaea">http://uri/ws/cities/total</code>
            </li>
        </ul>
    </h:body>
</html>

